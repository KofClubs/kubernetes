- name: SchedulingWithPortsUnsatisfied
  workloadTemplate:
    - opcode: createNodes
      countParam: $initNodes
      nodeTemplatePath: config/node-default.yaml
    - opcode: createPods
      # Spin up Pods whose number equal to Nodes, so
      # every node's particular host port is occupied.
      countParam: $initNodes
      podTemplatePath: config/pod-with-hostport.yaml
    - opcode: createPods
      # These Pods will stay in pending state.
      countParam: $initPods
      podTemplatePath: config/pod-high-priority-with-hostport.yaml
      skipWaitToCompletion: true
    - opcode: churn
      mode: create
      templatePaths:
        - config/churn/service-default.yaml
      intervalMilliseconds: 1000
    - opcode: createPods
      countParam: $measurePods
      podTemplatePath: config/pod-default.yaml
      collectMetrics: true
  workloads:
    - name: 1000Nodes
      params:
        initNodes: 1000
        initPods: 1000
        measurePods: 1000
    - name: 5000Nodes
      params:
        initNodes: 5000
        initPods: 5000
        measurePods: 5000
